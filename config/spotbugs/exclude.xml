<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter
        xmlns="https://github.com/spotbugs/filter/3.0.0"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="https://github.com/spotbugs/filter/3.0.0
        https://raw.githubusercontent.com/spotbugs/spotbugs/3.1.0/spotbugs/etc/findbugsfilter.xsd">

    <!-- Исключить сгенерированный код -->
    <Match>
        <Class name="~.*\.generated\..*"/>
    </Match>

    <Match>
        <Package name="~.*\.generated\..*"/>
    </Match>

    <!-- Исключить Q-классы QueryDSL -->
    <Match>
        <Class name="~Q.*"/>
    </Match>

    <!-- Исключить тестовые утилиты -->
    <Match>
        <Class name="~.*Test"/>
        <Bug pattern="DM_DEFAULT_ENCODING"/>
    </Match>

    <Match>
        <Class name="~.*Test"/>
        <Bug pattern="RCN_REDUNDANT_NULLCHECK_WOULD_HAVE_BEEN_A_NPE"/>
    </Match>

    <!-- Исключить конкретный пакет (если есть legacy код) -->
<!--    <Match>-->
<!--        <Package name="~com\.example\.legacy\..*"/>-->
<!--    </Match>-->

    <!-- Исключить баги сериализации для всего кода -->
    <Match>
        <Bug pattern="SE_BAD_FIELD"/>
    </Match>

    <Match>
        <Bug pattern="SE_NO_SERIALVERSIONID"/>
    </Match>

    <!-- Исключить EI_EXPOSE_REP для DTO/Entity -->
    <Match>
        <Bug pattern="EI_EXPOSE_REP"/>
    </Match>

    <Match>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>

    <Match>
        <Bug pattern="VA_FORMAT_STRING_USES_NEWLINE"/>
    </Match>

    <!-- Исключить для Entity классов -->
    <Match>
        <Class name="~.*/model/.*"/>
        <Or>
            <Bug pattern="UWF_UNWRITTEN_FIELD"/>
            <Bug pattern="URF_UNREAD_FIELD"/>
            <Bug pattern="UUF_UNUSED_FIELD"/>
        </Or>
    </Match>

    <!-- Исключить для DTO классов -->
    <Match>
        <Class name="~.*/dto/.*"/>
        <Or>
            <Bug pattern="UWF_UNWRITTEN_FIELD"/>
            <Bug pattern="URF_UNREAD_FIELD"/>
            <Bug pattern="UUF_UNUSED_FIELD"/>
        </Or>
    </Match>

    <Match>
        <Class name="~.*Dto"/>
        <Or>
            <Bug pattern="UWF_UNWRITTEN_FIELD"/>
            <Bug pattern="URF_UNREAD_FIELD"/>
            <Bug pattern="UUF_UNUSED_FIELD"/>
        </Or>
    </Match>

    <!-- Исключить для конфигурационных классов -->
    <Match>
        <Class name="~.*/config/.*"/>
        <Bug pattern="UPM_UNCALLED_PRIVATE_METHOD"/>
    </Match>

    <!-- Исключить NP_NULL_ON_SOME_PATH для Lombok -->
    <Match>
        <Bug pattern="NP_NULL_ON_SOME_PATH"/>
        <Class name="~.*Builder"/>
    </Match>

</FindBugsFilter>